/**
 * ะขะตััะพะฒัะต ะดะฐะฝะฝัะต ะดะปั ะดะตะผะพะฝัััะฐัะธะธ ะฑะตะทะพัะธะฑะพัะฝะพะน ัะฑะพัะบะธ
 * ะกะพะดะตัะถะธั ัะตะฐะปัะฝัะต ะฑะฐัะบะพะดั ะธะท ะะพะนะกะบะปะฐะด ะดะปั ะฟัะพะฒะตัะบะธ ะธะฝัะตะณัะฐัะธะธ
 */

import { publishGroup } from './publishedGroupsStorage';

/**
 * ะขะตััะพะฒัะต ะณััะฟะฟั ะทะฐะบะฐะทะพะฒ ั ัะตะฐะปัะฝัะผะธ ะฑะฐัะบะพะดะฐะผะธ ะธะท ะะพะนะกะบะปะฐะด
 */
export const TEST_GROUPS = [
  {
    shipmentDate: '2026-02-14T10:00:00.000Z',
    postings: [
      {
        postingNumber: '79373559-0053-1',
        shipmentDate: '2026-02-14T10:00:00.000Z',
        products: [
          {
            name: 'ะััะตะธะฝ ะธ ะทะตะฐะบัะฐะฝัะธะฝ ะดะปั ะณะปะฐะท 60 ะบะฐะฟััะป',
            offerId: 'GRA-08040',
            productId: '2100060005',
            quantity: 1,
            barcode: '2000588832717'
          }
        ]
      },
      {
        postingNumber: '64391968-7861-1',
        shipmentDate: '2026-02-14T10:00:00.000Z',
        products: [
          {
            name: 'ะคะธะทะตัะธะฝ, 100 ะผะณ, 60 ะบะฐะฟััะป',
            offerId: 'GRA-09100',
            productId: '284381789',
            quantity: 2,
            barcode: '2038515111568'
          }
        ]
      },
      {
        postingNumber: '95116909-2933-1',
        shipmentDate: '2026-02-14T10:00:00.000Z',
        products: [
          {
            name: 'ะัะตัะธะป l ะะฐัะฝะธัะธะฝ, 500 ะผะณ, 60 ะบะฐะฟััะป',
            offerId: 'GRA-04510',
            productId: '194765432',
            quantity: 1,
            barcode: '2039961382502'
          },
          {
            name: 'ะะถะพะฒะธะบ ะณัะตะฑะตะฝัะฐััะน Lions Mane, 500 ะผะณ, 90 ะบะฐะฟััะป',
            offerId: 'GRA-07813',
            productId: '287654321',
            quantity: 1,
            barcode: '2042392959496'
          }
        ]
      }
    ],
    count: 3
  },
  {
    shipmentDate: '2026-02-15T12:00:00.000Z',
    postings: [
      {
        postingNumber: '17888266-5600-1',
        shipmentDate: '2026-02-15T12:00:00.000Z',
        products: [
          {
            name: 'ะะพัะพัะตะฒะพะต ะผะฐัะปะพ ะดะปั ัะพะฑะฐะบ ะธ ะบะพัะตะบ, 90 ะบะฐะฟััะป',
            offerId: 'GRA-08020',
            productId: '343898929',
            quantity: 3,
            barcode: '2043855094983'
          }
        ]
      },
      {
        postingNumber: '40000000-0626-1',
        shipmentDate: '2026-02-15T12:00:00.000Z',
        products: [
          {
            name: 'ะะตะฝัะพัะธะฐะผะธะฝ + ะะปััะฐ ะปะธะฟะพะตะฒะฐั ะบะธัะปะพัะฐ + ะขะตะฐะฝะธะฝ + ะบะพัะฝะทะธะผ Q10',
            offerId: 'GRA-08080',
            productId: '456789012',
            quantity: 1,
            barcode: '2043017893973'
          },
          {
            name: 'ะคะธะทะตัะธะฝ, 100 ะผะณ, 60 ะบะฐะฟััะป',
            offerId: 'GRA-09100',
            productId: '284381789',
            quantity: 1,
            barcode: '2038515111568'
          },
          {
            name: 'ะัะตัะธะป l ะะฐัะฝะธัะธะฝ, 500 ะผะณ, 60 ะบะฐะฟััะป',
            offerId: 'GRA-04510',
            productId: '194765432',
            quantity: 2,
            barcode: '2039961382502'
          }
        ]
      }
    ],
    count: 2
  }
];

/**
 * ะะฐะณััะถะฐะตั ัะตััะพะฒัะต ะดะฐะฝะฝัะต ะฒ localStorage ะดะปั ะดะตะผะพะฝัััะฐัะธะธ
 * @returns {boolean} ะฃัะฟะตัะฝะพััั ะพะฟะตัะฐัะธะธ
 */
export function loadTestData() {
  try {
    let successCount = 0;

    for (const group of TEST_GROUPS) {
      const success = publishGroup(group, []);
      if (success) successCount++;
    }

    console.log(`โ ะะฐะณััะถะตะฝะพ ${successCount} ัะตััะพะฒัั ะณััะฟะฟ ะธะท ${TEST_GROUPS.length}`);
    return successCount === TEST_GROUPS.length;
  } catch (error) {
    console.error('โ ะัะธะฑะบะฐ ะทะฐะณััะทะบะธ ัะตััะพะฒัั ะดะฐะฝะฝัั:', error);
    return false;
  }
}

/**
 * ะัะธัะฐะตั ัะตััะพะฒัะต ะดะฐะฝะฝัะต ะธะท localStorage
 * @returns {boolean} ะฃัะฟะตัะฝะพััั ะพะฟะตัะฐัะธะธ
 */
export function clearTestData() {
  try {
    const { clearPublishedGroups } = require('./publishedGroupsStorage');
    clearPublishedGroups();
    console.log('โ ะขะตััะพะฒัะต ะดะฐะฝะฝัะต ะพัะธัะตะฝั');
    return true;
  } catch (error) {
    console.error('โ ะัะธะฑะบะฐ ะพัะธััะบะธ ัะตััะพะฒัั ะดะฐะฝะฝัั:', error);
    return false;
  }
}

/**
 * ะะฝัะพัะผะฐัะธั ะพ ัะตััะพะฒัั ะฑะฐัะบะพะดะฐั ะดะปั ัััะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั
 */
export const TEST_BARCODES_INFO = {
  'GRA-08040': {
    name: 'ะััะตะธะฝ ะธ ะทะตะฐะบัะฐะฝัะธะฝ ะดะปั ะณะปะฐะท 60 ะบะฐะฟััะป',
    barcode: '2000588832717',
    type: 'Code128'
  },
  'GRA-09100': {
    name: 'ะคะธะทะตัะธะฝ, 100 ะผะณ, 60 ะบะฐะฟััะป',
    barcode: '2038515111568',
    type: 'Code128'
  },
  'GRA-04510': {
    name: 'ะัะตัะธะป l ะะฐัะฝะธัะธะฝ, 500 ะผะณ, 60 ะบะฐะฟััะป',
    barcode: '2039961382502',
    type: 'Code128'
  },
  'GRA-07813': {
    name: 'ะะถะพะฒะธะบ ะณัะตะฑะตะฝัะฐััะน Lions Mane, 500 ะผะณ, 90 ะบะฐะฟััะป',
    barcode: '2042392959496',
    type: 'Code128'
  },
  'GRA-08020': {
    name: 'ะะพัะพัะตะฒะพะต ะผะฐัะปะพ ะดะปั ัะพะฑะฐะบ ะธ ะบะพัะตะบ, 90 ะบะฐะฟััะป',
    barcode: '2043855094983',
    type: 'Code128'
  },
  'GRA-08080': {
    name: 'ะะตะฝัะพัะธะฐะผะธะฝ + ะะปััะฐ ะปะธะฟะพะตะฒะฐั ะบะธัะปะพัะฐ + ะขะตะฐะฝะธะฝ + ะบะพัะฝะทะธะผ Q10',
    barcode: '2043017893973',
    type: 'Code128'
  }
};

/**
 * ะัะฒะพะดะธั ัะฟะธัะพะบ ะฒัะตั ัะตััะพะฒัั ะฑะฐัะบะพะดะพะฒ ะฒ ะบะพะฝัะพะปั
 */
export function printTestBarcodes() {
  console.log('๐ ะขะตััะพะฒัะต ะฑะฐัะบะพะดั ะดะปั ัะบะฐะฝะธัะพะฒะฐะฝะธั:');
  console.log('โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ');

  Object.entries(TEST_BARCODES_INFO).forEach(([offerId, info]) => {
    console.log(`\n${info.name}`);
    console.log(`  ะััะธะบัะป: ${offerId}`);
    console.log(`  ะะฐัะบะพะด:  ${info.barcode} (${info.type})`);
  });

  console.log('\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ');
  console.log('๐ก ะะปั ะทะฐะณััะทะบะธ ัะตััะพะฒัั ะดะฐะฝะฝัั ะฒัะฟะพะปะฝะธัะต: loadTestData()');
}
